{"ast":null,"code":"var _jsxFileName = \"/Users/eve/Desktop/Projects/SpaceX/Code/starlink/src/components/WorldMap.js\";\nimport React, { Component } from 'react';\nimport { feature } from 'topojson-client';\nimport { geoKavrayskiy7 } from 'd3-geo-projection';\nimport { geoGraticule, geoPath } from 'd3-geo';\nimport { select as d3Select } from 'd3-selection';\nimport { BASE_URL, SAT_API_KEY, STATELLITE_POSITION_URL, WORLD_MAP_URL } from '../constants';\nimport axios from 'axios';\nimport { schemeCategory10 } from 'd3-scale-chromatic';\nimport * as d3scale from \"d3-scale\";\nimport { timeFormat as d3TimeFormat } from \"d3-time-format\";\nimport { Spin } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst width = 960;\nconst height = 600;\nclass WorldMap extends Component {\n  constructor() {\n    super();\n    this.track = data => {\n      if (!data[0].hasOwnProperty(\"positions\")) {\n        throw new Error(\"no position data\");\n        return;\n      }\n      const len = data[0].positions.length;\n      const {\n        duration\n      } = this.props.observerData;\n      const {\n        context2\n      } = this.map;\n      let now = new Date();\n      let i = 0;\n      let timer = setInterval(() => {\n        let ct = new Date();\n        let timePassed = i === 0 ? 0 : ct - now;\n        let time = new Date(now.getTime() + 60 * timePassed);\n        context2.clearRect(0, 0, width, height);\n        context2.font = \"bold 14px sans-serif\";\n        context2.fillStyle = \"#333\";\n        context2.textAlign = \"center\";\n        context2.fillText(d3TimeFormat(time), width / 2, 10);\n        if (i >= len) {\n          clearInterval(timer);\n          this.setState({\n            isDrawing: false\n          });\n          const oHint = document.getElementsByClassName(\"hint\")[0];\n          oHint.innerHTML = \"\";\n          return;\n        }\n        data.forEach(sat => {\n          const {\n            info,\n            positions\n          } = sat;\n          this.drawSat(info, positions[i]);\n        });\n        i += 60;\n      }, 1000);\n    };\n    this.drawSat = (sat, pos) => {\n      const {\n        satlongitude,\n        satlatitude\n      } = pos;\n      if (satlongitude || !satlatitude) return;\n      const {\n        satname\n      } = sat;\n      const nameWithNumber = satname.match(/\\d+/g).join(\"\");\n      const {\n        projection,\n        context2\n      } = this.map;\n      const xy = projection([satlongitude, satlatitude]);\n      context2.fillStyle = this.color(nameWithNumber);\n      context2.beginPath();\n      context2.arc(xy[0], xy[1], 4, 0, 2 * Math.PI);\n      context2.fill();\n      context2.font = \"bold 11px sans-serif\";\n      context2.textAlign = \"center\";\n      context2.fillText(nameWithNumber, xy[0], xy[1] + 14);\n    };\n    this.generateMap = land => {\n      const projection = geoKavrayskiy7().scale(170).translate([width / 2, height / 2]).precision(0.1);\n      const graticule = geoGraticule();\n      const canvas = d3Select(this.refMap.current).attr(\"width\", width).attr(\"height\", height);\n      const canvas2 = d3Select(this.refTrack.current).attr(\"width\", width).attr(\"height\", height);\n      const context = canvas.node().getContext(\"2d\");\n      const context2 = canvas2.node().getContext(\"2d\");\n      let path = geoPath().projection(projection).context(context);\n      land.forEach(ele => {\n        context.fillStyle = '#B3DDEF';\n        context.strokeStyle = '#000';\n        context.globalAlpha = 0.7;\n        context.beginPath();\n        path(ele);\n        context.fill();\n        context.stroke();\n        context.strokeStyle = 'rgba(220, 220, 220, 0.1)';\n        context.beginPath();\n        path(graticule());\n        context.lineWidth = 0.1;\n        context.stroke();\n        context.beginPath();\n        context.lineWidth = 0.5;\n        path(graticule.outline());\n        context.stroke();\n      });\n      this.map = {\n        projection: projection,\n        graticule: graticule,\n        context: context,\n        context2: context2\n      };\n    };\n    this.state = {\n      isLoading: false,\n      isDrawing: false\n    };\n    this.map = null;\n    this.color = d3scale.scaleOrdinal(schemeCategory10);\n    this.refMap = /*#__PURE__*/React.createRef();\n    this.refTrack = /*#__PURE__*/React.createRef();\n  }\n  componentDidMount() {\n    axios.get(WORLD_MAP_URL).then(res => {\n      const {\n        data\n      } = res;\n      const land = feature(data, data.object.countries).feature;\n      this.generateMap(land);\n    }).catch(e => {\n      console.log('err in fetch world map data ', e.message);\n    });\n  }\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.satData !== this.props.satData) {\n      const {\n        latitude,\n        longtitude,\n        elevation,\n        altitude,\n        duration\n      } = this.props.observerData;\n      const endTime = duration * 60;\n      this.setState({\n        isLoading: true\n      });\n      const urls = this.props.satData.map(sat => {\n        const {\n          satid\n        } = sat;\n        const url = `/api/${STATELLITE_POSITION_URL}/${satid}/${latitude}/${longtitude}/${elevation}/${endTime}/&apiKey=${SAT_API_KEY}`;\n        return axios.get(url);\n      });\n      Promise.all(urls).then(res => {\n        const arr = res.map(sat => sat.data);\n        this.setState({\n          isLoading: false,\n          isDrawing: true\n        });\n        if (!prevState.isDrawing) {\n          this.track(arr);\n        } else {\n          const oHint = document.getElementsByClassName(\"hint\")[0];\n          oHint.innerHTML = \"Please wait for these satellite animation to finish before selection new ones!\";\n        }\n      }).catch(e => {\n        console.log(\"err in fetch satellite position -> \", e.message);\n      });\n    }\n  }\n  render() {\n    const {\n      isLoading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-box\",\n      children: [isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\",\n        children: /*#__PURE__*/_jsxDEV(Spin, {\n          tip: \"Loading...\",\n          size: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 5\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"canvas\", {\n        className: \"map\",\n        ref: this.refMap\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        className: \"track\",\n        ref: this.refTrack\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hint\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 4\n    }, this);\n  }\n}\nexport default WorldMap;","map":{"version":3,"names":["React","Component","feature","geoKavrayskiy7","geoGraticule","geoPath","select","d3Select","BASE_URL","SAT_API_KEY","STATELLITE_POSITION_URL","WORLD_MAP_URL","axios","schemeCategory10","d3scale","timeFormat","d3TimeFormat","Spin","jsxDEV","_jsxDEV","width","height","WorldMap","constructor","track","data","hasOwnProperty","Error","len","positions","length","duration","props","observerData","context2","map","now","Date","i","timer","setInterval","ct","timePassed","time","getTime","clearRect","font","fillStyle","textAlign","fillText","clearInterval","setState","isDrawing","oHint","document","getElementsByClassName","innerHTML","forEach","sat","info","drawSat","pos","satlongitude","satlatitude","satname","nameWithNumber","match","join","projection","xy","color","beginPath","arc","Math","PI","fill","generateMap","land","scale","translate","precision","graticule","canvas","refMap","current","attr","canvas2","refTrack","context","node","getContext","path","ele","strokeStyle","globalAlpha","stroke","lineWidth","outline","state","isLoading","scaleOrdinal","createRef","componentDidMount","get","then","res","object","countries","catch","e","console","log","message","componentDidUpdate","prevProps","prevState","snapshot","satData","latitude","longtitude","elevation","altitude","endTime","urls","satid","url","Promise","all","arr","render","className","children","tip","size","fileName","_jsxFileName","lineNumber","columnNumber","ref"],"sources":["/Users/eve/Desktop/Projects/SpaceX/Code/starlink/src/components/WorldMap.js"],"sourcesContent":["import React, {Component} from 'react'\nimport {feature} from 'topojson-client';\nimport {geoKavrayskiy7} from 'd3-geo-projection';\nimport {geoGraticule, geoPath} from 'd3-geo';\n\nimport {select as d3Select} from 'd3-selection';\nimport { BASE_URL, SAT_API_KEY, STATELLITE_POSITION_URL, WORLD_MAP_URL } from '../constants';\nimport axios from 'axios';\nimport {schemeCategory10} from 'd3-scale-chromatic';\n\nimport * as d3scale from \"d3-scale\";\nimport { timeFormat as d3TimeFormat } from \"d3-time-format\";\n\nimport { Spin } from \"antd\";\n\nconst width = 960;\nconst height = 600;\n\nclass WorldMap extends Component {\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tisLoading: false,\n\t\t\tisDrawing: false\n\t\t};\n\t\tthis.map = null;\n\t\tthis.color = d3scale.scaleOrdinal(schemeCategory10);\n\t\tthis.refMap = React.createRef();\n\t\tthis.refTrack = React.createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\taxios.get(WORLD_MAP_URL)\n\t\t\t.then(res => {\n\t\t\t\tconst { data } = res;\n\t\t\t\tconst land = feature(data, data.object.countries).feature;\n\t\t\t\tthis.generateMap(land);\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconsole.log('err in fetch world map data ', e.message);\n\t\t\t});\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState, snapshot){\n\t\tif (prevProps.satData !== this.props.satData){\n\t\t\tconst {\n\t\t\t\tlatitude,\n\t\t\t\tlongtitude,\n\t\t\t\televation,\n\t\t\t\taltitude,\n\t\t\t\tduration\n\t\t\t} = this.props.observerData;\n\n\t\t\tconst endTime = duration * 60;\n\n\t\t\tthis.setState({\n\t\t\t\tisLoading: true\n\t\t\t});\n\n\t\t\tconst urls = this.props.satData.map(sat => {\n\t\t\t\tconst { satid } = sat;\n\t\t\t\tconst url = `/api/${STATELLITE_POSITION_URL}/${satid}/${latitude}/${longtitude}/${elevation}/${endTime}/&apiKey=${SAT_API_KEY}`;\n\n\t\t\t\treturn axios.get(url);\n\t\t\t});\n\n\t\t\tPromise.all(urls).then(res => {\n\t\t\t\tconst arr = res.map(sat => sat.data);\n\t\t\t\tthis.setState({\n\t\t\t\t\tisLoading: false,\n\t\t\t\t\tisDrawing: true\n\t\t\t\t});\n\n\t\t\t\tif (!prevState.isDrawing){\n\t\t\t\t\tthis.track(arr);\n\t\t\t\t} else {\n\t\t\t\t\tconst oHint = document.getElementsByClassName(\"hint\")[0];\n\t\t\t\t\toHint.innerHTML = \"Please wait for these satellite animation to finish before selection new ones!\"; \n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(e => {\n\t\t\t\tconsole.log(\"err in fetch satellite position -> \", e.message);\n\t\t\t});\n\t\t}\n\t}\n\n\ttrack = data => {\n\t\tif (!data[0].hasOwnProperty(\"positions\")){\n\t\t\tthrow new Error(\"no position data\");\n\t\t\treturn;\n\t\t}\n\n\t\tconst len = data[0].positions.length;\n\t\tconst { duration } = this.props.observerData;\n\t\tconst { context2 } = this.map;\n\n\t\tlet now = new Date();\n\n\t\tlet i = 0;\n\n\t\tlet timer = setInterval(() => {\n\t\t\tlet ct = new Date();\n\n\t\t\tlet timePassed = i === 0 ? 0 : ct - now;\n\t\t\tlet time = new Date(now.getTime() + 60 * timePassed);\n\n\t\t\tcontext2.clearRect(0, 0, width, height);\n\n\t\t\tcontext2.font = \"bold 14px sans-serif\";\n\t\t\tcontext2.fillStyle = \"#333\";\n\t\t\tcontext2.textAlign = \"center\";\n\t\t\tcontext2.fillText(d3TimeFormat(time), width / 2, 10);\n\n\t\t\tif ( i >= len){\n\t\t\t\tclearInterval(timer);\n\t\t\t\tthis.setState({ isDrawing: false });\n\t\t\t\tconst oHint = document.getElementsByClassName(\"hint\")[0];\n\t\t\t\toHint.innerHTML = \"\";\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tdata.forEach(sat => {\n\t\t\t\tconst { info, positions } = sat;\n\t\t\t\tthis.drawSat(info, positions[i]);\n\t\t\t});\n\n\t\t\ti += 60;\n\t\t}, 1000);\n\t};\n\n\tdrawSat = (sat, pos) => {\n\t\tconst { satlongitude, satlatitude } = pos;\n\t\tif (satlongitude || !satlatitude) return;\n\n\t\tconst { satname } = sat;\n\t\tconst nameWithNumber = satname.match(/\\d+/g).join(\"\");\n\t\tconst { projection, context2 } = this.map;\n\n\t\tconst xy = projection([satlongitude, satlatitude]);\n\n\t\tcontext2.fillStyle = this.color(nameWithNumber);\n\t\tcontext2.beginPath();\n\t\tcontext2.arc(xy[0], xy[1], 4, 0, 2 * Math.PI);\n\t\tcontext2.fill();\n\n\t\tcontext2.font = \"bold 11px sans-serif\";\n\t\tcontext2.textAlign = \"center\";\n\t\tcontext2.fillText(nameWithNumber, xy[0], xy[1] + 14);\n\t};\n\n\tgenerateMap = land => {\n\t\tconst projection = geoKavrayskiy7()\n\t\t\t.scale(170)\n\t\t\t.translate([width / 2, height / 2])\n\t\t\t.precision(0.1);\n\n\t\tconst graticule = geoGraticule();\n\n\t\tconst canvas = d3Select(this.refMap.current)\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height);\n\n\t\tconst canvas2 = d3Select(this.refTrack.current)\n\t\t\t.attr(\"width\", width)\n\t\t\t.attr(\"height\", height);\n\n\t\tconst context = canvas.node().getContext(\"2d\");\n\t\tconst context2 = canvas2.node().getContext(\"2d\");\n\n\n\t\tlet path = geoPath()\n\t\t\t.projection(projection)\n\t\t    .context(context);\n\n\t\tland.forEach(ele => {\n\t\t\tcontext.fillStyle = '#B3DDEF';\n\t\t\tcontext.strokeStyle = '#000';\n\t\t\tcontext.globalAlpha = 0.7;\n\t\t\tcontext.beginPath();\n\t\t\tpath(ele);\n\t\t\tcontext.fill();\n\t\t\tcontext.stroke();\n\n\t\t\tcontext.strokeStyle = 'rgba(220, 220, 220, 0.1)';\n\t\t\tcontext.beginPath();\n\t\t\tpath(graticule());\n\t\t\tcontext.lineWidth = 0.1;\n\t\t\tcontext.stroke();\n\n\t\t\tcontext.beginPath();\n\t\t\tcontext.lineWidth = 0.5;\n\t\t\tpath(graticule.outline());\n\t\t\tcontext.stroke();\n\t\t});\n\n\t\tthis.map = {\n\t\t\tprojection: projection,\n\t\t\tgraticule: graticule,\n\t\t\tcontext: context,\n\t\t\tcontext2: context2\n\t\t};\n\t};\n\n\trender() {\n\t\tconst { isLoading } = this.state;\n\t\treturn (\n\t\t\t<div className=\"map-box\">\n\t\t\t{isLoading ? (\n\t\t\t\t<div className='spinner'>\n\t\t\t\t\t<Spin tip=\"Loading...\" size=\"large\" />\n\t\t\t\t</div>\n\t\t\t) : null }\n\t\t\t\t<canvas className='map' ref={this.refMap} />\n\t\t\t\t<canvas className='track' ref={this.refTrack} />\n\t\t\t\t<div className='hint' />\n\t\t\t\t\n\t\t\t</div>\n\t\t);\t\n\t}\n\n}\n\nexport default WorldMap;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}