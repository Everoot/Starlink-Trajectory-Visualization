{"ast":null,"code":"var _jsxFileName = \"/Users/eve/Desktop/Projects/SpaceX/Code/starlink/src/components/Main.js\";\nimport React, { Component } from 'react';\nimport { Row, Col } from 'antd';\nimport axios from 'axios';\nimport { NEARBY_SATELLITE, SAT_API_KEY, STARLINK_CATEGORY } from '../constants';\nimport SatSetting from './SatSetting';\nimport SatelliteList from './SatelliteList';\nimport WorldMap from './WorldMap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Main extends Component {\n  constructor() {\n    super();\n    this.showMap = selected => {\n      this.setState(preState => ({\n        ...preState,\n        satList: [...selected]\n      }));\n    };\n    this.showNearbySatellite = setting => {\n      this.setState({\n        isLoadingList: true,\n        setting: setting\n      });\n      this.fetchSatellite(setting);\n    };\n    this.fetchSatellite = setting => {\n      // parameter for apis\n      const {\n        latitude,\n        longitude,\n        elevation,\n        altitude\n      } = setting;\n      // url  /api/ added\n      const url = `/api/${NEARBY_SATELLITE}/${latitude}/${longitude}/${elevation}/${altitude}/${STARLINK_CATEGORY}/&apiKey=${SAT_API_KEY}`;\n      this.setState({\n        isLoadingList: true\n      });\n\n      // make request\n      axios.get(url).then(response => {\n        console.log(response.data);\n        this.setState({\n          satInfo: response.data,\n          isLoadingList: false\n        });\n      }).catch(error => {\n        console.log('err in fetch satellite -> ', error);\n      });\n    };\n    this.state = {\n      satInfo: null,\n      satList: null,\n      setting: null,\n      isLoadingList: false\n    };\n  }\n  render() {\n    const {\n      isLoadingList,\n      satInfo,\n      satList,\n      setting\n    } = this.state;\n    return (\n      /*#__PURE__*/\n      // grid: col-8 + col-16 = 24 in total\n      // parent component is Main.js instead of App.js\n      // SatSetting: Satellite settings on the left top\n      // SatelliteList: Satellite lists on the left bottom\n      // WorldMap: Map on the right side\n      _jsxDEV(Row, {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          span: 8,\n          children: [/*#__PURE__*/_jsxDEV(SatSetting, {\n            onShow: this.showNearbySatellite\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(SatelliteList, {\n            isLoad: isLoadingList,\n            satInfo: satInfo,\n            onShowMap: this.showMap\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          span: 16,\n          className: \"right-side\",\n          children: /*#__PURE__*/_jsxDEV(WorldMap, {\n            satData: satList,\n            observerData: setting\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 4\n      }, this)\n    );\n  }\n}\nexport default Main;","map":{"version":3,"names":["React","Component","Row","Col","axios","NEARBY_SATELLITE","SAT_API_KEY","STARLINK_CATEGORY","SatSetting","SatelliteList","WorldMap","jsxDEV","_jsxDEV","Main","constructor","showMap","selected","setState","preState","satList","showNearbySatellite","setting","isLoadingList","fetchSatellite","latitude","longitude","elevation","altitude","url","get","then","response","console","log","data","satInfo","catch","error","state","render","className","children","span","onShow","fileName","_jsxFileName","lineNumber","columnNumber","isLoad","onShowMap","satData","observerData"],"sources":["/Users/eve/Desktop/Projects/SpaceX/Code/starlink/src/components/Main.js"],"sourcesContent":["import React, {Component} from 'react';\nimport { Row, Col } from 'antd';\nimport axios from 'axios';\nimport { NEARBY_SATELLITE, SAT_API_KEY, STARLINK_CATEGORY } from '../constants';\nimport SatSetting from './SatSetting';\nimport SatelliteList from './SatelliteList';\nimport WorldMap from './WorldMap';\n\nclass Main extends Component {\n\tconstructor(){\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tsatInfo: null,\n\t\t\tsatList: null,\n\t\t\tsetting: null,\n\t\t\tisLoadingList: false\n\t\t}\n\t}\n\trender() {\n\t\tconst { isLoadingList, satInfo, satList, setting } = this.state;\n\t\treturn (\n\t\t\t// grid: col-8 + col-16 = 24 in total\n\t\t\t// parent component is Main.js instead of App.js\n\t\t\t// SatSetting: Satellite settings on the left top\n\t\t\t// SatelliteList: Satellite lists on the left bottom\n\t\t\t// WorldMap: Map on the right side\n\t\t\t<Row className='main'>\n\t\t\t\t<Col span={8} >\n\t\t\t\t\t<SatSetting onShow={this.showNearbySatellite}/>\n\t\t\t\t\t<SatelliteList isLoad={isLoadingList}\n\t\t\t\t\t\t\t\t   satInfo={satInfo}\n\t\t\t\t\t\t\t\t   onShowMap={this.showMap} />\n\t\t\t\t</Col>\n\t\t\t\t<Col span={16} className=\"right-side\">\n\t\t\t\t\t<WorldMap satData={satList} observerData={setting} />\n\t\t\t\t</Col>\n\t\t\t</Row>\n\t\t);\n\t}\n\n\tshowMap = (selected) => {\n\t\tthis.setState(preState => ({\n\t\t\t...preState,\n\t\t\tsatList: [...selected]\n\t\t}))\n\t}\n\n\tshowNearbySatellite = (setting) => {\n\t\tthis.setState({\n\t\t\tisLoadingList: true,\n\t\t\tsetting: setting\n\t\t})\n\t\tthis.fetchSatellite(setting);\n\t}\n\n\tfetchSatellite= (setting) => {\n\t\t// parameter for apis\n\t\tconst {latitude, longitude, elevation, altitude} = setting;\n\t\t// url  /api/ added\n\t\tconst url = `/api/${NEARBY_SATELLITE}/${latitude}/${longitude}/${elevation}/${altitude}/${STARLINK_CATEGORY}/&apiKey=${SAT_API_KEY}`;\n\n\t\tthis.setState({\n\t\t\tisLoadingList: true\n\t\t});\n\n\t\t// make request\n\t\taxios.get(url)\n\t\t\t.then(response => {\n\t\t\t\tconsole.log(response.data)\n\t\t\t\tthis.setState({\n\t\t\t\t\tsatInfo: response.data,\n\t\t\t\t\tisLoadingList: false\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log('err in fetch satellite -> ', error);\n\t\t\t})\n\t}\n}\nexport default Main;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AACtC,SAASC,GAAG,EAAEC,GAAG,QAAQ,MAAM;AAC/B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,EAAEC,WAAW,EAAEC,iBAAiB,QAAQ,cAAc;AAC/E,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,QAAQ,MAAM,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElC,MAAMC,IAAI,SAASZ,SAAS,CAAC;EAC5Ba,WAAWA,CAAA,EAAE;IACZ,KAAK,CAAC,CAAC;IAAC,KA8BTC,OAAO,GAAIC,QAAQ,IAAK;MACvB,IAAI,CAACC,QAAQ,CAACC,QAAQ,KAAK;QAC1B,GAAGA,QAAQ;QACXC,OAAO,EAAE,CAAC,GAAGH,QAAQ;MACtB,CAAC,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDI,mBAAmB,GAAIC,OAAO,IAAK;MAClC,IAAI,CAACJ,QAAQ,CAAC;QACbK,aAAa,EAAE,IAAI;QACnBD,OAAO,EAAEA;MACV,CAAC,CAAC;MACF,IAAI,CAACE,cAAc,CAACF,OAAO,CAAC;IAC7B,CAAC;IAAA,KAEDE,cAAc,GAAGF,OAAO,IAAK;MAC5B;MACA,MAAM;QAACG,QAAQ;QAAEC,SAAS;QAAEC,SAAS;QAAEC;MAAQ,CAAC,GAAGN,OAAO;MAC1D;MACA,MAAMO,GAAG,GAAI,QAAOvB,gBAAiB,IAAGmB,QAAS,IAAGC,SAAU,IAAGC,SAAU,IAAGC,QAAS,IAAGpB,iBAAkB,YAAWD,WAAY,EAAC;MAEpI,IAAI,CAACW,QAAQ,CAAC;QACbK,aAAa,EAAE;MAChB,CAAC,CAAC;;MAEF;MACAlB,KAAK,CAACyB,GAAG,CAACD,GAAG,CAAC,CACZE,IAAI,CAACC,QAAQ,IAAI;QACjBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;QAC1B,IAAI,CAACjB,QAAQ,CAAC;UACbkB,OAAO,EAAEJ,QAAQ,CAACG,IAAI;UACtBZ,aAAa,EAAE;QAChB,CAAC,CAAC;MACH,CAAC,CAAC,CACDc,KAAK,CAACC,KAAK,IAAI;QACfL,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEI,KAAK,CAAC;MACjD,CAAC,CAAC;IACJ,CAAC;IAlEA,IAAI,CAACC,KAAK,GAAG;MACZH,OAAO,EAAE,IAAI;MACbhB,OAAO,EAAE,IAAI;MACbE,OAAO,EAAE,IAAI;MACbC,aAAa,EAAE;IAChB,CAAC;EACF;EACAiB,MAAMA,CAAA,EAAG;IACR,MAAM;MAAEjB,aAAa;MAAEa,OAAO;MAAEhB,OAAO;MAAEE;IAAQ,CAAC,GAAG,IAAI,CAACiB,KAAK;IAC/D;MAAA;MACC;MACA;MACA;MACA;MACA;MACA1B,OAAA,CAACV,GAAG;QAACsC,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACpB7B,OAAA,CAACT,GAAG;UAACuC,IAAI,EAAE,CAAE;UAAAD,QAAA,gBACZ7B,OAAA,CAACJ,UAAU;YAACmC,MAAM,EAAE,IAAI,CAACvB;UAAoB;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAC,CAAC,eAC/CnC,OAAA,CAACH,aAAa;YAACuC,MAAM,EAAE1B,aAAc;YAC/Ba,OAAO,EAAEA,OAAQ;YACjBc,SAAS,EAAE,IAAI,CAAClC;UAAQ;YAAA6B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC,eACNnC,OAAA,CAACT,GAAG;UAACuC,IAAI,EAAE,EAAG;UAACF,SAAS,EAAC,YAAY;UAAAC,QAAA,eACpC7B,OAAA,CAACF,QAAQ;YAACwC,OAAO,EAAE/B,OAAQ;YAACgC,YAAY,EAAE9B;UAAQ;YAAAuB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF;IAAC;EAER;AAwCD;AACA,eAAelC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}